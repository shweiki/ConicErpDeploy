(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fe176d0"],{"0eb9":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return l})),a.d(e,"e",(function(){return i})),a.d(e,"d",(function(){return m})),a.d(e,"c",(function(){return u}));var o=a("b7e2"),r=a("4328"),n=a.n(r);function s(t){return Object(o["a"])({url:"/Salary/Edit",method:"post",data:n.a.stringify(t)})}function l(t){return Object(o["a"])({url:"/Salary/Create",method:"post",data:n.a.stringify(t)})}function i(t){return Object(o["a"])({url:"/Salary/GetSalaryByEmployeeId",method:"get",params:t})}function m(t){return Object(o["a"])({url:"/Salary/GetLastSalaryById",method:"get",params:t})}function u(t){return Object(o["a"])({url:"/Salary/GetById",method:"get",params:t})}},"19dd":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary",size:t.$store.getters.size,icon:t.isEdit?"el-icon-edit":"el-icon-plus"},on:{click:function(e){t.Visibles=!0}}},[t._v(t._s(t.isEdit?"تعديل":"إضافة")+" الراتب")]),t._v(" "),a("el-dialog",{staticStyle:{"margin-top":"-13vh"},attrs:{title:"تعديل الراتب",visible:t.Visibles},on:{opened:t.getDate,"update:visible":function(e){t.Visibles=e}}},[a("el-form",{ref:"SalaryForm",staticClass:"demo-form-inline",attrs:{model:t.tempForm,"label-position":"top"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"EmployeeId",label:"الرقم الوظيفي "}},[a("el-input",{attrs:{disabled:""},model:{value:t.tempForm.EmployeeId,callback:function(e){t.$set(t.tempForm,"EmployeeId",e)},expression:"tempForm.EmployeeId"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"Name",label:"اسم الموظف"}},[a("el-input",{attrs:{disabled:""},model:{value:t.tempForm.Name,callback:function(e){t.$set(t.tempForm,"Name",e)},expression:"tempForm.Name"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"الفترة",prop:"SalaryFrom"}},[a("Search-By-Date",{attrs:{withOptions:!1,Value:[t.tempForm.SalaryFrom,t.tempForm.SalaryTo]},on:{Set:function(e){t.tempForm.SalaryFrom=e[0],t.tempForm.SalaryTo=e[1]}}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"الراتب الكلي",prop:"GrossSalary"}},[a("el-input-number",{attrs:{precision:2,step:1,min:0,max:5e3},on:{focus:function(t){return t.target.select()}},model:{value:t.tempForm.GrossSalary,callback:function(e){t.$set(t.tempForm,"GrossSalary",e)},expression:"tempForm.GrossSalary"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"ساعات الدوام ",prop:"WorkingHours"}},[a("el-input-number",{attrs:{step:1,min:0,max:15},on:{focus:function(t){return t.target.select()}},model:{value:t.tempForm.WorkingHours,callback:function(e){t.$set(t.tempForm,"WorkingHours",e)},expression:"tempForm.WorkingHours"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.Visibles=!1}}},[t._v(t._s(t.$t("AddVendors.Cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmData}},[t._v(t._s(t.$t("AddVendors.Save")))])],1)],1)],1)},r=[],n=(a("96cf"),a("1da1")),s=(a("c5f6"),a("0eb9")),l=a("4381"),i=a("64af"),m={components:{SearchByDate:i["a"]},directives:{permission:l["a"]},props:{isEdit:{type:Boolean,default:function(){return!1}},Id:{type:Number,default:void 0},EmployeeId:{type:Number,default:void 0},EmployeeName:{type:String}},data:function(){return{tempForm:{Id:void 0,EmployeeId:0,Name:"",GrossSalary:0,NetSalary:0,WorkingHours:0,SalaryFrom:"",SalaryTo:"",Status:0},Visibles:!1}},methods:{getDate:function(){var t=this;this.isEdit&&this.Id>0?Object(s["c"])({Id:this.Id}).then((function(e){t.tempForm=e})):(void 0!=this.EmployeeId&&this.EmployeeId>0&&(this.tempForm.EmployeeId=this.EmployeeId,Object(s["d"])({Id:this.EmployeeId}).then((function(e){e&&(t.tempForm.GrossSalary=e.GrossSalary,t.tempForm.WorkingHours=e.WorkingHours,t.tempForm.SalaryFrom=e.SalaryFrom,t.tempForm.SalaryTo=e.SalaryTo)}))),void 0!=this.EmployeeName&&""!=this.EmployeeName&&(this.tempForm.Name=this.EmployeeName))},confirmData:function(){var t=this;this.$refs["SalaryForm"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=11;break}if(1==t.isEdit){e.next=7;break}return e.next=4,Object(s["a"])(t.tempForm).then((function(t){return t||!1})).catch((function(t){return!1}));case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,Object(s["b"])(t.tempForm).then((function(t){return t||!1})).catch((function(t){return!1}));case 9:o=e.sent;case 10:o?(t.Visibles=!1,t.$notify({title:"تعديل",message:"تعديل",type:"success",position:"top-left",duration:1e3,showClose:!1})):(t.Visibles=!1,t.$notify({title:"مشكلة",message:"حصلت مشكلة في عملية الحفظ",type:"error",position:"top-left",duration:1e3,showClose:!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},u=m,c=a("2877"),d=Object(c["a"])(u,o,r,!1,null,null,null);e["a"]=d.exports},6724:function(t,e,a){"use strict";a("8d41");var o="@@wavesContext";function r(t,e){function a(a){var o=Object.assign({},e.value),r=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},o),n=r.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var s=n.getBoundingClientRect(),l=n.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(s.width,s.height)+"px",n.appendChild(l)),r.type){case"center":l.style.top=s.height/2-l.offsetHeight/2+"px",l.style.left=s.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-s.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-s.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=r.color,l.className="waves-ripple z-active",!1}}return t[o]?t[o].removeHandle=a:t[o]={removeHandle:a},a}var n={bind:function(t,e){t.addEventListener("click",r(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[o].removeHandle,!1),t.addEventListener("click",r(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[o].removeHandle,!1),t[o]=null,delete t[o]}},s=function(t){t.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(s)),n.install=s;e["a"]=n},7514:function(t,e,a){"use strict";var o=a("5ca1"),r=a("0a49")(5),n="find",s=!0;n in[]&&Array(1)[n]((function(){s=!1})),o(o.P+o.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(n)},"8d41":function(t,e,a){},9161:function(t,e,a){"use strict";a("bd2d")},b1e0:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Salary-Details",{attrs:{"is-edit":!0}})},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:3}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("Drawer-Print",{attrs:{Type:"SalaryPayment",Data:t.tempForm}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("Dialog-Salary-From",{attrs:{isEdit:!0,Id:parseInt(t.$route.params&&t.$route.params.id)}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{disabled:t.DisabledSave,type:"success",icon:"el-icon-check"},on:{click:t.confirmData}})],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{span:24,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v("\n              احتساب الراتب :\n              "),a("span",[a("Status-Tag",{attrs:{Status:t.tempForm.Status,TableName:"SalaryPayment"}})],1)]),t._v(" "),a("el-descriptions",{staticClass:"margin-top",attrs:{column:3,border:""}},[a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" الراتب الاساسي ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.tempForm.GrossSalary))])],2),t._v(" "),a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" ساعات الدوام ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.tempForm.WorkingHours))])],2),t._v(" "),a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" اسم الموظف ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.tempForm.Name))])],2),t._v(" "),a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" الرقم الوظيفي ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.tempForm.EmployeeId))])],2),t._v(" "),a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" مجموع ساعات التأخير ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.MinutesConvert(t.TotalDelayMinute)))])],2),t._v(" "),a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" مجموع ساعات إضافي ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.MinutesConvert(t.TotalExtraMinute)))])],2),t._v(" "),a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" عدد أيام الدوام ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.WorkingDays))])],2),t._v(" "),a("el-descriptions-item",{attrs:{"label-style":{"text-align":"right"},"content-style":{"text-align":"right"}}},[a("template",{slot:"label"},[t._v(" صافي الراتب ")]),t._v(" "),a("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.tempForm.NetSalary))])],2)],1)],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("Add-Salary-Adjustment-Log",{attrs:{EmployeeId:t.tempForm.EmployeeId,EmployeeName:t.tempForm.Name,SalaryPaymentId:t.tempForm.Id,GrossSalary:t.tempForm.GrossSalary,ExtraHours:(parseFloat(t.MinutesConvert(t.TotalExtraMinute,"."))+.4)*(t.tempForm.GrossSalary/t.tempForm.DaysCount/t.tempForm.WorkingHours),DelayHours:(parseFloat(t.MinutesConvert(t.TotalDelayMinute,"."))+.4)*(t.tempForm.GrossSalary/t.tempForm.DaysCount/t.tempForm.WorkingHours)}}),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{height:"220",data:t.tempForm.SalaryAdjustmentLogs,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"Id",label:"رقم",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"التسوية",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Description",label:"ملاحظات",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AdjustmentAmmount",label:"القيمة",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"تعديل",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("edit-salary-adjustment-log",{attrs:{Id:o.Id},on:{Done:t.getdata}}),t._v(" "),a("Delete-Salary-Adjustment-Log",{attrs:{Id:o.Id},on:{Done:t.getdata}})]}}])})],1)],1)],1)],1)],1)],1),t._v(" "),a("Device-Log",{attrs:{TableName:"Employee",UserId:t.tempForm.EmployeeId,Name:t.tempForm.Name,FromDate:t.tempForm.SalaryFrom,ToDate:t.tempForm.SalaryTo,WorkingHours:t.tempForm.WorkingHours},on:{Done:t.SetValue}})],1)},s=[],l=a("0eb9"),i=a("00f2"),m=a("2cba"),u=a("44b4"),c=a("d1b8"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"warning",icon:"el-icon-circle-plus",round:""},on:{click:function(e){t.dialogFormVisible=!0}}},[a("span",{staticStyle:{"font-size":"14px"}},[t._v("إيرادات \\ إقتطاعات ")])]),t._v(" "),a("el-dialog",{staticStyle:{"margin-top":"-13vh"},attrs:{"show-close":!1,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"title"},slot:"title"},[a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{float:"left"},attrs:{icon:"fa fa-save",type:"primary"},on:{click:function(e){return t.createData()}}})],1),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-divider",[t._v(" إيرادات \\ إقتطاعات ")])],1)],1),t._v(" "),a("el-form",{ref:"EmployeeLogForm",staticClass:"demo-form-inline",attrs:{model:t.tempForm,"label-position":"top"}},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"EmployeeName",label:"اسم الموظف"}},[a("el-input",{attrs:{disabled:""},model:{value:t.EmployeeName,callback:function(e){t.EmployeeName=e},expression:"EmployeeName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"EmployeeId",label:"الرقم الوظيفي"}},[a("el-input",{attrs:{disabled:""},model:{value:t.EmployeeId,callback:function(e){t.EmployeeId=e},expression:"EmployeeId"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"AdjustmentId",label:"التسوية"}},[a("Select-Adjustment",{attrs:{GrossSalary:t.GrossSalary,ExtraHours:t.ExtraHours,DelayHours:t.DelayHours,Value:t.tempForm.AdjustmentId},on:{SetAdjustment:function(e){t.tempForm.AdjustmentId=e},SetAdjustmentAmount:function(e){t.tempForm.AdjustmentAmmount=e}}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"القيمة "}},[a("currency-input",{staticClass:"currency-input",attrs:{rules:[{required:!0,message:"لايمكن ترك القيمة فارغ",trigger:"blur"}],"value-range":{min:-1e4,max:1e4}},on:{focus:function(t){return t.target.select()}},model:{value:t.tempForm.AdjustmentAmmount,callback:function(e){t.$set(t.tempForm,"AdjustmentAmmount",e)},expression:"tempForm.AdjustmentAmmount"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"Description",label:"ملاحظات "}},[a("el-input",{model:{value:t.tempForm.Description,callback:function(e){t.$set(t.tempForm,"Description",e)},expression:"tempForm.Description"}})],1)],1)],1)],1)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-col",{attrs:{span:24}},[a("el-select",{attrs:{filterable:"",placeholder:"التسوية"},on:{change:t.SetVal},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.amount))])])})),1)],1)],1)},y=[],v=(a("7514"),a("b4ef")),g={props:["Value","GrossSalary","ExtraHours","DelayHours"],data:function(){return{value:1,options:[]}},watch:{Value:function(t){null!=t&&void 0!=t&&this.SetVal(t)},GrossSalary:function(t){t>0&&(this.GrossSalary=t)},ExtraHours:function(t){t>0&&(this.ExtraHours=t)},DelayHours:function(t){t<0&&(this.DelayHours=t)}},mounted:function(){this.getdata()},methods:{getdata:function(){var t=this;Object(v["b"])().then((function(e){t.options=e,t.SetVal(t.value)})).catch((function(t){console.log(t)}))},SetVal:function(t){if(t){var e=this.options.find((function(e){return e.value==t}));console.log("dis",e,this.GrossSalary,this.ExtraHours,this.DelayHours),this.$emit("SetAdjustment",t),void 0!=e&&null!=e&&("Percentage"==e.type&&this.$emit("SetAdjustmentAmount",e.amount*(this.GrossSalary||1)),"Hours"==e.type&&e.amount>0&&this.$emit("SetAdjustmentAmount",e.amount*(this.ExtraHours||1)),"Hours"==e.type&&e.amount<0&&this.$emit("SetAdjustmentAmount",e.amount*(this.DelayHours||1)))}}}},b=g,h=a("2877"),F=Object(h["a"])(b,f,y,!1,null,null,null),S=F.exports,_=a("b7e2"),j=a("4328"),E=a.n(j);function x(t){return Object(_["a"])({url:"/SalaryAdjustmentLog/Create",method:"post",data:E.a.stringify(t)})}function A(t){return Object(_["a"])({url:"/SalaryAdjustmentLog/Edit",method:"post",data:E.a.stringify(t)})}function I(t){return Object(_["a"])({url:"/SalaryAdjustmentLog/Delete",method:"post",data:E.a.stringify(t)})}function D(t){return Object(_["a"])({url:"/SalaryAdjustmentLog/GetById",method:"get",params:t})}var w={name:"Adjustment",props:["EmployeeId","EmployeeName","SalaryPaymentId","GrossSalary","ExtraHours","DelayHours"],components:{SelectAdjustment:S},data:function(){return{dialogFormVisible:!1,tempForm:{Id:void 0,AdjustmentAmmount:0,Description:"",Status:0,AdjustmentId:void 0,SalaryPaymentId:void 0}}},created:function(){this.resetTempForm()},methods:{getData:function(t){},resetTempForm:function(){this.tempForm={Id:void 0,AdjustmentAmmount:0,Description:"",Status:0,AdjustmentId:void 0,SalaryPaymentId:void 0}},createData:function(){var t=this;this.$refs["dataForm"],this.tempForm.SalaryPaymentId=this.SalaryPaymentId,x(this.tempForm).then((function(e){t.dialogFormVisible=!1,t.$notify({title:"تم ",message:"تم الإضافة بنجاح",type:"success",duration:2e3})})).catch((function(t){console.log(t)}))}}},k=w,O=Object(h["a"])(k,d,p,!1,null,null,null),N=O.exports,$=a("6724"),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",round:""},on:{click:t.getData}}),t._v(" "),a("el-dialog",{staticStyle:{"margin-top":"-13vh"},attrs:{"show-close":!1,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"title"},slot:"title"},[a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{float:"left"},attrs:{icon:"fa fa-save",type:"primary"},on:{click:function(e){return t.Edit()}}})],1),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-divider",[t._v("تعديل إيرادات \\ إقتطاعات ")])],1)],1),t._v(" "),a("el-form",{ref:"EmployeeLogForm",staticClass:"demo-form-inline",attrs:{model:t.tempForm,"label-position":"top"}},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"EmployeeName",label:"اسم الموظف"}},[a("el-input",{attrs:{disabled:""},model:{value:t.tempForm.Name,callback:function(e){t.$set(t.tempForm,"Name",e)},expression:"tempForm.Name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"EmployeeId",label:"الرقم الوظيفي"}},[a("el-input",{attrs:{disabled:""},model:{value:t.tempForm.EmployeeId,callback:function(e){t.$set(t.tempForm,"EmployeeId",e)},expression:"tempForm.EmployeeId"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"AdjustmentId",label:"التسوية"}},[a("Select-Adjustment",{attrs:{GrossSalary:t.tempForm.GrossSalary,Value:t.tempForm.AdjustmentId},on:{SetAdjustment:function(e){t.tempForm.AdjustmentId=e},SetAdjustmentAmount:function(e){t.tempForm.AdjustmentAmmount=e}}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"القيمة "}},[a("currency-input",{staticClass:"currency-input",attrs:{rules:[{required:!0,message:"لايمكن ترك القيمة فارغ",trigger:"blur"}],"value-range":{min:-1e4,max:1e4}},on:{focus:function(t){return t.target.select()}},model:{value:t.tempForm.AdjustmentAmmount,callback:function(e){t.$set(t.tempForm,"AdjustmentAmmount",e)},expression:"tempForm.AdjustmentAmmount"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"Description",label:"ملاحظات "}},[a("el-input",{model:{value:t.tempForm.Description,callback:function(e){t.$set(t.tempForm,"Description",e)},expression:"tempForm.Description"}})],1)],1)],1)],1)},V=[],G={props:["Id"],components:{SelectAdjustment:S},data:function(){return{dialogFormVisible:!1,tempForm:{Id:void 0,AdjustmentAmmount:0,Description:"",Status:0,AdjustmentId:void 0,SalaryPaymentId:void 0}}},methods:{getData:function(){var t=this;D({Id:this.Id}).then((function(e){t.tempForm=e})),this.dialogFormVisible=!0},Edit:function(){var t=this;this.$refs["dataForm"],A(this.tempForm).then((function(e){t.dialogFormVisible=!1,t.$notify({title:"تم ",message:"تم الإضافة بنجاح",type:"success",duration:2e3}),t.$emit("Done")})).catch((function(t){console.log(t)}))}}},C=G,T=Object(h["a"])(C,H,V,!1,null,null,null),L=T.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-popconfirm",{attrs:{"confirm-button-text":"OK","cancel-button-text":"No, Thanks",icon:"el-icon-info","icon-color":"red",title:"Are you sure to delete this?"},on:{confirm:t.Delete}},[a("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",round:""},slot:"reference"})],1)},P=[],M={props:["Id"],data:function(){return{dialogFormVisible:!1}},methods:{Delete:function(){var t=this;I({Id:this.Id}).then((function(e){t.$notify({title:"تم ",message:"تم حذف بنجاح"+e,type:"danger",duration:2e3}),t.$emit("done")})).catch((function(t){console.log(t)}))}}},z=M,B=Object(h["a"])(z,W,P,!1,null,null,null),R=B.exports,q=a("848c"),J=a("19dd"),K=a("ed08"),Q={components:{DialogActionLog:c["a"],RadioOprations:u["a"],AddSalaryAdjustmentLog:N,DrawerPrint:m["a"],StatusTag:i["a"],DeviceLog:q["a"],EditSalaryAdjustmentLog:L,DeleteSalaryAdjustmentLog:R,DialogSalaryFrom:J["a"]},directives:{waves:$["a"]},props:{isEdit:{type:Boolean,default:!0}},data:function(){return{DisabledSave:!1,loading:!0,tempRoute:{},tableData:[],TotalExtraMinute:0,TotalDelayMinute:0,WorkingDays:0,tempForm:{Id:void 0,EmployeeId:void 0,GrossSalary:0,NetSalary:0,SalaryFrom:"",SalaryTo:"",DaysCount:0,status:0,WorkingHours:0,Name:"",SalaryAdjustmentLogs:[]},listLoading:!1}},created:function(){this.isEdit&&this.getdata(),this.tempRoute=Object.assign({},this.$route)},methods:{MinutesConvert:K["a"],SetValue:function(t){console.log("e",t),this.WorkingDays=parseFloat(t.WorkingDays),this.TotalExtraMinute=parseFloat(t.ExtraMinute),this.TotalDelayMinute=parseFloat(t.DelayMinute),this.getdata()},getdata:function(){var t=this;this.listLoading=!0,this.loading=!0,Object(l["c"])({Id:this.$route.params&&this.$route.params.id}).then((function(e){t.tempForm=e,t.tempForm.NetSalary=(parseFloat(t.tempForm.GrossSalary)+t.tempForm.SalaryAdjustmentLogs.reduce((function(t,e){return t+parseFloat(e.AdjustmentAmmount)}),0)).toFixed(t.$store.getters.settings.ToFixed),t.setTagsViewTitle(),t.setPageTitle(),t.listLoading=!1})),this.loading=!1},confirmData:function(){var t=this;this.DisabledSave=!0,this.tempForm.Status=0,Object(l["b"])(this.tempForm).then((function(e){t.$notify({title:"تم ",message:"تم احتساب بنجاح"+e,type:"success",duration:2e3})})).then((function(e){e&&(t.DisabledSave=!1)}))},setTagsViewTitle:function(){var t="احتساب راتب "+this.tempForm.Name+" لشهر "+Object(K["h"])(this.tempForm.SalaryFrom,"{m}\\{y}"),e=Object.assign({},this.tempRoute,{title:"".concat(t)});this.$store.dispatch("tagsView/updateVisitedView",e)},setPageTitle:function(){var t="موظف";document.title="".concat(t," - ").concat(this.tempForm.Id)}}},U=Q,X=(a("9161"),Object(h["a"])(U,n,s,!1,null,null,null)),Y=X.exports,Z={name:"Salary",components:{SalaryDetails:Y}},tt=Z,et=Object(h["a"])(tt,o,r,!1,null,null,null);e["default"]=et.exports},b4ef:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return m}));var o=a("b7e2"),r=a("4328"),n=a.n(r);function s(t){return Object(o["a"])({url:"/Adjustment/GetPAdjustments",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/Adjustment/GetRAdjustments",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/Adjustment/Create",method:"post",data:n.a.stringify(t)})}function m(t){return Object(o["a"])({url:"/Adjustment/GetAdjustmentLabel",method:"get",params:t})}},bd2d:function(t,e,a){},bdb5:function(t,e,a){"use strict";a.d(e,"g",(function(){return s})),a.d(e,"d",(function(){return l})),a.d(e,"f",(function(){return i})),a.d(e,"a",(function(){return m})),a.d(e,"e",(function(){return u})),a.d(e,"h",(function(){return c})),a.d(e,"b",(function(){return d})),a.d(e,"c",(function(){return p}));var o=a("b7e2"),r=a("4328"),n=a.n(r);function s(t){return Object(o["a"])({url:"/Employee/GetEmployeeByAny",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/Employee/FixPhoneNumber",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/Employee/GetByListQ",method:"post",data:n.a.stringify(t)})}function m(t){return Object(o["a"])({url:"/Employee/CheckEmployeeIsExist",method:"get",params:t})}function u(t){return Object(o["a"])({url:"/Employee/GetActiveEmployee",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/Employee/GetEmployeeById",method:"get",params:t})}function d(t){return Object(o["a"])({url:"/Employee/Create",method:"post",data:n.a.stringify(t)})}function p(t){return Object(o["a"])({url:"/Employee/Edit",method:"post",data:n.a.stringify(t)})}},f2f8:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var o=a("b7e2");a("4328");function r(t){return Object(o["a"])({url:"/ActionLog/GetLogByObjTable",method:"get",params:t})}}}]);